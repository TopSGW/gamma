{"version":3,"file":"static/js/143.d5300284.chunk.js","mappings":"4TA+EA,EApEc,WAEV,OAA4BA,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KAEMC,GAAUC,EAAAA,EAAAA,MAEVC,GAAWC,EAAAA,EAAAA,UACXC,GAAcD,EAAAA,EAAAA,UAEdE,GAAWC,EAAAA,EAAAA,MAEXC,EAAa,mCAAG,WAAOC,GAAP,oFAClBA,EAAMC,iBAENV,EAAU,MACJW,EAAcR,EAASS,QAAQC,MAC/BC,EAAkBT,EAAYO,QAAQC,MAL1B,kBAQIE,EAAAA,EAAAA,KAAmB,aAAc,CAC/CC,MAAOL,EACPM,SAAUH,IAVA,OAQRI,EARQ,OAYdC,QAAQC,IAAIF,EAAIG,KAAKL,OACrBE,EAAIG,MAAQpB,EAAQqB,QAAQ,SAC5BhB,EAASiB,EAAAA,EAAAA,aAAyB,CAC9BC,SAAUN,EAAIG,KAAKG,SACnBR,MAAOE,EAAIG,KAAKL,SAEpBS,aAAaC,QAAQ,OAAQC,KAAKC,UAAUV,EAAIG,OAlBlC,kDAoBdF,QAAQC,IAAI,KAAIS,SAASR,MACnBS,EAAS,KAAID,SAASR,KAC5BrB,EAAU8B,GAtBI,0DAAH,sDA6BnB,OACI,gBAAKC,UAAU,aAAf,UACI,iBAAKA,UAAU,QAAf,WAEI,iBAAKA,UAAU,SAAf,WACA,kBAAMC,SAAUxB,EAAhB,WACI,eAAIuB,UAAU,eAAd,oBACChC,IAAU,cAAGgC,UAAU,gBAAb,SAA8BhC,KACzC,kBAAOkC,IAAK9B,EAAU4B,UAAU,cAAcG,KAAK,OAAOC,UAAQ,EAACC,YAAY,WAC/E,kBAAOH,IAAK5B,EAAc0B,UAAU,cAAcG,KAAK,WAAWC,UAAQ,EAACC,YAAY,cACvF,mBAAQL,UAAU,iBAAlB,uBAEA,eAAGA,UAAU,eAAb,wBAAsC,SAAC,KAAD,CAAMM,GAAG,YAAT,iCAG1C,iBAAKN,UAAU,SAAf,WAEI,eAAIA,UAAU,eAAd,sBACA,eAAIA,UAAU,gBAAd,uCACA,gBAAKO,IAAKC,EAASC,IAAI,GAAGT,UAAU","sources":["pages/LogIn/LogIn.js"],"sourcesContent":["import { useDispatch } from \"react-redux\";\r\nimport { useRef, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { authActions } from \"../../store/auth-slice\";\r\n\r\nimport vector6 from \"./vector6.png\";\r\n\r\nimport \"./LogIn.scss\"\r\nimport { axiosInstance } from \"../../config\";\r\n\r\nconst LogIn = () => {\r\n\r\n    const [errors, setErrors] = useState(null)\r\n\r\n    const history = useHistory();\r\n\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const submitHandler = async (event) => {\r\n        event.preventDefault();\r\n\r\n        setErrors(null)\r\n        const enteredMail = emailRef.current.value;\r\n        const enteredPassword = passwordRef.current.value;\r\n\r\n        try {\r\n            const res = await axiosInstance.post(\"auth/login\", {\r\n                email: enteredMail,\r\n                password: enteredPassword\r\n            })\r\n            console.log(res.data.email);\r\n            res.data && history.replace(\"/home\")\r\n            dispatch(authActions.loginHandler({\r\n                username: res.data.username,\r\n                email: res.data.email\r\n            }))\r\n            localStorage.setItem(\"user\", JSON.stringify(res.data))\r\n        } catch (err) {\r\n            console.log(err.response.data);\r\n            const errMsg = err.response.data\r\n            setErrors(errMsg)\r\n        }\r\n  \r\n    }\r\n\r\n    // const logState = useSelector(state => state.auth.isLoggedIn)\r\n    \r\n    return (\r\n        <div className=\"signupPage\">\r\n            <div className=\"login\">               \r\n\r\n                <div className=\"login1\">\r\n                <form onSubmit={submitHandler}>\r\n                    <h3 className=\"login1__text\">Log in</h3>\r\n                    {errors && <p className=\"login1__error\">{errors}</p>}\r\n                    <input ref={emailRef} className=\"login1__box\" type=\"text\" required placeholder=\"Email\" />\r\n                    <input ref={passwordRef}  className=\"login1__box\" type=\"password\" required placeholder=\"Password\" />\r\n                    <button className=\"login1__submit\">Login</button>\r\n                    </form>\r\n                    <p className=\"login1__para\">New user? <Link to=\"/register\">Register now</Link></p>\r\n                </div>\r\n\r\n                <div className=\"login2\">\r\n\r\n                    <h3 className=\"login2__text\">Welcome</h3>\r\n                    <h3 className=\"login2__text2\">Start writing your blogs</h3>\r\n                    <img src={vector6} alt=\"\" className=\"login2__vector\" />\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LogIn;"],"names":["useState","errors","setErrors","history","useHistory","emailRef","useRef","passwordRef","dispatch","useDispatch","submitHandler","event","preventDefault","enteredMail","current","value","enteredPassword","axiosInstance","email","password","res","console","log","data","replace","authActions","username","localStorage","setItem","JSON","stringify","response","errMsg","className","onSubmit","ref","type","required","placeholder","to","src","vector6","alt"],"sourceRoot":""}